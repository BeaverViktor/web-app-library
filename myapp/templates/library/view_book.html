{% extends "layout.html" %}
{% block body %}
{% if error %}
  <p class=error><strong>Error:</strong> {{ error }}</p>
{% else %}
  <h2>{{ book.name }}
    {% if session.user %}
      <span id=author>
        [ <a href="{{ url_for('edit_book', id=book.id) }}">edit</a> |
        <a href="{{ url_for('delete_book', id=book.id) }}">delete</a> ]
      </span>
    {% endif %}
  </h2>
  <p>by
    {% for author in book.authors %}
      <a href="{{ url_for('view_author', id=author.id) }}">
        {{ author.name }}
      </a>{% if not loop.last %},{% endif %}
    {% endfor %}
  </p>
{% endif %}
{% endblock %}